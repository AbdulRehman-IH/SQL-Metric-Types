{"title": "Success/Failure Rate Metric Type with user input filters  2 - copy", "metric_query": "select f_table.failour / (s_table.success + f_table.failour) * 100 as result from (select count(*) as success, 1 as temp from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} and {var__success_filters}) as s_table left outer join (select count(*) as failour, 1 as temp from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} and {var__failour_filters}) as f_table on f_table.temp = s_table.temp;", "group_by_1_query": "select s_table.vg1, f_table.failour / (s_table.success + f_table.failour) * 100 as result from (select {var__group_by_1} as vg1, count(*) as success from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} and {var__success_filters} group by {var__group_by_1}) as s_table left outer join (select {var__group_by_1} as vg1, count(*) as failour from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} and {var__failour_filters} group by {var__group_by_1}) as f_table on s_table.vg1 = f_table.vg1;", "group_by_2_query": "select s_table.vg1, s_table.vg2, f_table.failour / (s_table.success + f_table.failour) * 100 as result from (select {var__group_by_1} as vg1, {var__group_by_2} as vg2, count(*) as success from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} and {var__success_filters} group by {var__group_by_1} , {var__group_by_2}) as s_table left outer join (select {var__group_by_1} as vg1,{var__group_by_2} as vg2, count(*) as failour from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} and {var__failour_filters} group by {var__group_by_1} , {var__group_by_2}) as f_table on s_table.vg1 = f_table.vg1 and s_table.vg2= f_table.vg2;", "sql_query_config": {"var__trp_table": {"aspect": "TRP_TABLE"}, "var__group_by_1": {"aspect": "TRP_GROUP_1"}, "var__group_by_2": {"aspect": "TRP_GROUP_2"}, "var__failour_filters": {"aspect": "USER_INPUT", "type": "Filters", "label": "Failure Criteria"}, "var__success_filters": {"aspect": "USER_INPUT", "type": "Filters", "label": "Success Criteria"}}, "dw_name": "mysql"}
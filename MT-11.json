{"title": "Total meetings for selected criteria editted", "metric_query": "select e.error / t.total * 100 as result from (select count(*) as total, 1 as temp from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS}) as t left outer join (select count(*) as error, 1 as temp from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} and {var__choice}) as e on e.temp = t.temp;", "group_by_1_query": "select t.vg1, e.error / t.total * 100 as result from (select {var__group_by_1} as vg1, count(*) as total from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} group by {var__group_by_1}) as t left outer join (select {var__group_by_1} as vg1, count(*) as error from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} and {var__choice} group by {var__group_by_1}) as e on e.vg1 = t.vg1;", "group_by_2_query": "select t.vg1,t.vg2, e.error / t.total * 100 as result from (select {var__group_by_1} as vg1, {var__group_by_2} as vg2, count(*) as total from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} group by vg1, vg2) as t left outer join (select {var__group_by_1} as vg1, {var__group_by_2} as vg2, count(*) as error from {var__trp_table} WHERE {CORE_FILTERS} and {TRP_FILTERS} and {var__choice} group by vg1, vg2) as e on e.vg1= t.vg1 and e.vg2 = t.vg2;", "sql_query_config": "{\"var__trp_table\": {\"aspect\": \"TRP_TABLE\"}, \"var__group_by_1\": {\"aspect\": \"TRP_GROUP_1\"}, \"var__group_by_2\": {\"aspect\": \"TRP_GROUP_2\"}, \"var__choice\": {\"aspect\": \"USER_INPUT\", \"type\": \"ChoiceField\", \"choices\": [{\"label\": \"Network issues\", \"value\": \"call_completion_code=3\"}, {\"label\": \"Meeting with Licensed host\", \"value\": \"user_type = 'Licensed'\"}, {\"label\": \"Meeting longer than 1 hour\", \"value\": \"duration > 3600\"}, {\"label\": \"Meetings with videos\", \"value\": \"has_video is true\"}], \"label\": \"Meeting critiria\"}}", "dw_name": "mysql"}

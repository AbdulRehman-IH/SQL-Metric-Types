{"title": "Return Patients", "metric_query": "select count(*) as results \nfrom (select count({var__unique_field}) as count_repeats \n\tfrom {var__trp_table} \n\twhere {CORE_FILTERS} and {TRP_FILTERS}  \n\tgroup by {var__patient_id_field}) as f \nwhere f.count_repeats > {var__repeat_count};", "group_by_1_query": "select v_g1, count(*) as results \nfrom (select count({var__unique_field}) as count_repeats, {var__group_by_1} as v_g1 \n\tfrom {var__trp_table} \n\twhere {CORE_FILTERS} and {TRP_FILTERS}  \n\tgroup by {var__patient_id_field}, {var__group_by_1}) as f \nwhere f.count_repeats > {var__repeat_count}\norder by {var__order_by};", "group_by_2_query": "select v_g2, v_g1, count(*) as results \nfrom (select count({var__unique_field}) as count_repeats, {var__group_by_1} as v_g1, {var__group_by_2} as v_g2 \n\tfrom {var__trp_table} \n\twhere {CORE_FILTERS} and {TRP_FILTERS}  \n\tgroup by {var__patient_id_field}, {var__group_by_1}, {var__group_by_2}) as f \nwhere f.count_repeats > {var__repeat_count}\norder by {var__order_by};", "sql_query_config": {"var__trp_table": {"aspect": "TRP_TABLE"}, "var__group_by_1": {"aspect": "TRP_GROUP_1"}, "var__group_by_2": {"aspect": "TRP_GROUP_2"}, "var__order_by": {"aspect": "TRP_SORT"}, "var__unique_field": {"aspect": "USER_INPUT", "type": "ModelField", "label": "Unique Encounter Field"}, "var__patient_id_field": {"aspect": "USER_INPUT", "type": "ModelField", "label": "Patient Unique Identifier Field"}, "var__repeat_count": {"aspect": "USER_INPUT", "type": "IntegerField", "label": "Count Repeat Occurance More Than", "default": 1}}, "dw_name": "mysql"}